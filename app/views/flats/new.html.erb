<div class="container bg-white my-5">
  <h1 class="p-4">Créer une annonce</h1>
    <%= simple_form_for @flat do |f| %>
      <% if @flat.errors.any? %>
        <div class="errors-container">
          <ul>
            <% @flat.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>
        <%= f.input :name,
                    as: :string,
                    required: false,
                    label: 'Nom' %>
        <%= f.input :price_per_day,
                    as: :integer,
                    required: false,
                    label: 'Prix par nuit' %>
        <%= f.input :description,
                    as: :text,
                    required: false,
                    label: 'Description' %>
        <%= f.input :picture,
                    as: :file,
                    label: 'Photo principale' %>
        <%= f.input :photos,
                    as: :file,
                    input_html: { multiple: true },
                    label: 'Photos secondaires' %>
          <%= f.simple_fields_for :equipment do |c| %>
            <%= c.object.name %>
            <%= c.input :name, as: :hidden %>
            <%= c.input :available, as: :boolean %>
            <%= c.input :pricing, as: :boolean %>
          <% end %>
          <div class="d-flex flex-row-reverse mt-4">
            <%= f.submit "Réservez" %>
          </div>
        </div>
    <% end %>
</div>

